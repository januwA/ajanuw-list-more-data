!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.AjanuwListMoreData=i():t.AjanuwListMoreData=i()}(this,(()=>(()=>{"use strict";var t={d:(i,e)=>{for(var s in e)t.o(e,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:e[s]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},i={};t.r(i),t.d(i,{AbstractPagination:()=>s,LimitOffsetPagination:()=>n,ListMoreData:()=>a,PageNumberPagination:()=>o});var e=function(t,i,e,s){return new(e||(e=Promise))((function(o,n){function a(t){try{h(s.next(t))}catch(t){n(t)}}function r(t){try{h(s.throw(t))}catch(t){n(t)}}function h(t){var i;t.done?o(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(a,r)}h((s=s.apply(t,i||[])).next())}))};class s{}class o{constructor(t=1,i=10){this.initPage=t,this.limit=i,this.page=1,this.page=t}init(){this.page=this.initPage}update(t){t&&(this.page+=1)}params(){return{page:this.page,limit:this.limit}}}class n{constructor(t=0,i=10){this.initOffset=t,this.limit=i,this.offset=0,this.offset=t}init(){this.offset=this.initOffset}update(t){this.offset+=t}params(){return{offset:this.offset,limit:this.limit}}}class a{constructor(t,i){this.getData=t,this.listData=[],this.pagination=new o(1,10),this.resultTransform=t=>t,this.isLoading=!1,this.isNotMore=!1,this.isRefresh=!1,i&&(void 0!==i.pagination&&(this.pagination=i.pagination),void 0!==i.resultTransform&&(this.resultTransform=i.resultTransform))}get status(){return this.error?"error":this.isDataEmpty?"empty":this.isNotMore?"noMore":this.isLoading?"loading":"more"}get isDataEmpty(){return!this.isLoading&&0===this.listData.length}_getData(){return e(this,void 0,void 0,(function*(){this.isLoading=!0,this.isNotMore=!1;const t=this.pagination.params();try{const i=yield this.getData(t).then(this.resultTransform);return this.pagination.update(i?i.length:0),this.error=void 0,(!i||i.length<t.limit)&&(this.isNotMore=!0),i||[]}catch(t){return this.error=t,[]}finally{this.isLoading=!1}}))}onInitData(){return e(this,void 0,void 0,(function*(){this.pagination.init(),this.listData=[],this.listData=yield this._getData()}))}onLoadMore(){return e(this,void 0,void 0,(function*(){const t=yield this._getData();t&&t.length&&this.listData.push(...t)}))}onRefresh(){return e(this,void 0,void 0,(function*(){this.isRefresh=!0,yield this.onInitData(),this.isRefresh=!1}))}}return i})()));